(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(e,t,n){e.exports={title:"ContactList_title__33NIt",formInner:"ContactList_formInner__2-maE"}},19:function(e,t,n){e.exports={title:"Section_title__2fKqX"}},20:function(e,t,n){e.exports={formInner:"ContactForm_formInner__20Dfi"}},23:function(e,t,n){e.exports={filter:"Filter_filter__2cjhe",formInner:"Filter_formInner__22-Vl"}},34:function(e,t,n){},35:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(10),o=n.n(a),s=(n(34),n(35),n(19)),i=n.n(s),u=n(2),l=function(e){var t=e.title,n=e.children;return Object(u.jsxs)("section",{children:[Object(u.jsx)("h2",{className:i.a.title,children:t}),n]})},j=n(15),d=n(18),b=(n(37),n(20)),O=n.n(b),m=n(21),f=n(6),p=Object(m.a)({reducerPath:"contactApi",baseQuery:Object(f.d)({baseUrl:"https://61979d305953f10017d23e72.mockapi.io/contacts"}),tagTypes:["Contacts"],endpoints:function(e){return{getContacts:e.query({query:function(){return"/contacts"},providesTags:["Contacts"]}),addContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:{name:e.name,phone:e.phone}}},invalidatesTags:["Contacts"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contacts"]})}}}),h=p.useGetContactsQuery,x=p.useAddContactMutation,g=p.useDeleteContactMutation;function v(){var e=h().data,t=x(),n=Object(j.a)(t,1)[0];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(u.jsxs)("form",{className:O.a.formInner,onSubmit:function(t){t.preventDefault();var c=t.currentTarget.elements.name.value,r=t.currentTarget.elements.number.value;e.find((function(e){return e.name.toLowerCase()===c.toLowerCase()}))?Object(d.b)("\ud83e\udd84 Wow so easy! ".concat(c," is already in contacts"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(n({name:c,phone:r}),t.currentTarget.reset())},children:[Object(u.jsxs)("label",{children:["Name:",Object(u.jsx)("input",{className:"input",name:"name",type:"text",autoComplete:"off",placeholder:"Enter name"})]}),Object(u.jsxs)("label",{children:["Number:",Object(u.jsx)("input",{className:"input",name:"number",type:"tel",autoComplete:"off",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"Enter phone number",required:!0})]}),Object(u.jsx)("button",{className:"button",type:"submit",children:"Add contact"})]})]})}var C=n(4),y=n(1),_=n(65),N=Object(y.b)("contacts/add",(function(e,t){return{payload:{id:Object(_.a)(),name:e,number:t}}})),F=Object(y.b)("contacts/delete"),w=Object(y.b)("contacts/changeFilter"),I=n(23),T=n.n(I),k=function(){var e=Object(C.d)(),t=Object(C.e)((function(e){return e.contacts.filter}));return Object(u.jsx)("div",{className:T.a.formInner,children:Object(u.jsxs)("label",{children:["Find contacts by name",Object(u.jsx)("input",{className:"input",type:"text",name:"filter",value:t,placeholder:"Find me",onChange:function(t){return e(w(t.target.value))}})]})})},L=n(24),P=n(25),E=n(26),q=n(29),D=n(28),B=(n(44),n(27)),S=n.n(B),A=function(e){Object(q.a)(n,e);var t=Object(D.a)(n);function n(){return Object(P.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){return Object(u.jsx)(S.a,{type:"Puff",color:"#00BFFF",height:10,width:10,timeout:3e3})}}]),n}(c.Component),M=n(12),H=n.n(M),J=function(e){var t=e.name,n=e.phone,c=e.id,r=g(),a=Object(j.a)(r,2),o=a[0],s=a[1].isLoading;return Object(u.jsxs)("li",{className:H.a.formInner,children:[Object(u.jsxs)("p",{children:["Name: ",t]}),Object(u.jsxs)("p",{children:["Phone: ",n]}),Object(u.jsxs)("button",{type:"button",className:"button",onClick:function(){return o(c)},disabled:s,children:["Delete ",Object(u.jsx)("span",{children:s&&Object(u.jsx)(A,{size:20})})]})]})},Q=function(){var e,t=h(),n=t.data,c=t.isFetching,r=Object(C.e)((function(e){return e.contacts.filter}));if(n){var a=r.toLowerCase();e=n.filter((function(e){return e.name.toLowerCase().includes(a)}))}return Object(u.jsxs)(u.Fragment,{children:[c&&Object(u.jsx)(A,{className:H.a.title}),e&&Object(u.jsx)("ul",{className:H.a.title,children:e.map((function(e){return Object(u.jsx)(J,Object(L.a)({},e),e.id)}))})]})};var z,G=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{title:"Phonebook",children:Object(u.jsx)(v,{})}),Object(u.jsx)(k,{}),Q&&Object(u.jsx)(l,{title:"Contacts",children:Object(u.jsx)(Q,{})})]})},K=n(14),U=n(9),V=n(7),W=Object(y.d)([],(z={},Object(U.a)(z,N,(function(e,t){var n=t.payload;return[].concat(Object(K.a)(e),[n])})),Object(U.a)(z,F,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),z)),X=Object(y.d)("",Object(U.a)({},w,(function(e,t){return t.payload}))),R=Object(V.b)({items:W,filter:X}),Y=Object(y.a)({reducer:Object(U.a)({contacts:R},p.reducerPath,p.reducer),middleware:function(e){return[].concat(Object(K.a)(e()),[p.middleware])},devTools:!1}),Z=Y;Object(f.e)(Y.dispatch),o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(C.a,{store:Z,children:Object(u.jsx)(G,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.737fdd1a.chunk.js.map